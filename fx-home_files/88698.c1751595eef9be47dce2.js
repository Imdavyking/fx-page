"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[88698],{632446:(t,e,i)=>{i.d(e,{enabled:()=>l,getConfig:()=>S})
;const r=JSON.parse('{"free":{"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":3},"HISTORICAL_BARS":{"limit":5},"STUDY_ON_STUDY":{"limit":270,"child_limit":1},"SERVER_SIDE_ALERTS":{"limit":1},"SCREENER_ALERTS":{"limit":1},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":2},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":1}},"__legacy_pro":{"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":99999},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":99999},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"limit":20},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"MULTIFLAGGED_SYMBOLS_LISTS":{},"BAR_REPLAY_INTRADAY":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"STREAMS_ACCESS":{"followers":10}},"__legacy_pro_realtime":{"extends":"__legacy_pro","BACKEND_CONNECTIONS":{"limit":20},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"SERVER_SIDE_ALERTS":{"limit":1000},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"BACKTESTING_EXPORT":{}},"__legacy_pro_premium":{"extends":"__legacy_pro_realtime","BACKEND_CONNECTIONS":{"limit":50},"USE_BAR_MAGNIFIER":{},"HISTORICAL_BARS":{"limit":20},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{}},"pro":{"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"limit":20},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":7},"INTRADAY_EXCHANGE":{},"VOLUME_PROFILE":{},"CHART_PATTERNS":{},"STREAMS_ACCESS":{"followers":10}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"INDICATORS_ON_CHART":{"limit":10},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":9},"SERVER_SIDE_ALERTS":{"limit":100},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"BACKEND_CONNECTIONS":{"limit":20},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"KAGI_RENKO":{},"INTRADAY_SPREAD":{},"CUSTOM_CHATS":{},"BACKTESTING_EXPORT":{}},"pro_premium":{"extends":"pro_realtime","USE_BAR_MAGNIFIER":{},"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"INDICATORS_ON_CHART":{"limit":25},"HISTORICAL_BARS":{"limit":20},"STUDY_ON_STUDY":{"limit":270,"child_limit":24},"SERVER_SIDE_ALERTS":{"limit":400},"SIMULTANEOUS_CONNECTIONS":{"limit":5},"BACKEND_CONNECTIONS":{"limit":50},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{}}}'),n=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}},"qecomqa":{"INDICATORS_ON_CHART":{"limit":99999}}}')
;var o=i(833813),a=i(960254),_=i(919490);function l(t,e,i){let r=window.user;i&&(r=i);const n=S(t,e,r);return!!n&&!(n[o.ProductFeatures.DISABLE_ON_TRIAL]&&(!r||r.is_trial))}function s(t){const e=r[t];return e?e.extends?Object.assign({},s(e.extends),e):e:null}function S(t,e,i){var r;let o=s(e||function(t){let e=window.user;t&&(e=t);let i=(null==e?void 0:e.pro_plan)||a.ProPlans.Free;const r=i!==a.ProPlans.Free&&!(0,_.isTrialProduct)(i);return r||(i=(0,_.getProductForTrial)(i)),r&&e&&!e.new_pro_product_line&&(i=`__legacy_${i}`),i}(i));if(!o)return null;const l=null===(r=window.TradingView)||void 0===r?void 0:r.widgetCustomer;return l&&n[l]&&(o=Object.assign({},o,n[l])),o&&o[t]||null}},833813:(t,e,i)=>{var r;i.d(e,{ProductFeatures:()=>r,UNLIMITED_FEATURE_LIMIT:()=>n}),function(t){t.DISABLE_ON_TRIAL="disable_on_trial",t.CUSTOM_INTERVALS="CUSTOM_INTERVALS",t.CHART_STORAGE="CHART_STORAGE",t.MULTIPLE_CHARTS="MULTIPLE_CHARTS",t.MULTIPLE_WATCHLISTS="MULTIPLE_WATCHLISTS",t.IMPORT_WATCHLISTS="IMPORT_WATCHLISTS",t.EXPORT_WATCHLISTS="EXPORT_WATCHLISTS",t.INDICATORS_ON_CHART="INDICATORS_ON_CHART",t.STUDY_ON_STUDY="STUDY_ON_STUDY",t.TICK_BY_TICK_PUSH_DATA="TICK_BY_TICK_PUSH_DATA",t.SERVER_SIDE_ALERTS="SERVER_SIDE_ALERTS",t.PUBLISH_INVITE_ONLY_SCRIPTS="PUBLISH_INVITE_ONLY_SCRIPTS",t.PUBLISH_PROTECTED_SCRIPTS="PUBLISH_PROTECTED_SCRIPTS",t.SCREENER_ALERTS="SCREENER_ALERTS",t.SCREENER_AUTO_REFRESH="SCREENER_AUTO_REFRESH",t.SCREENER_EXPORT_DATA="SCREENER_EXPORT_DATA",t.SCREENER_INTERVALS="SCREENER_INTERVALS",t.SIMULTANEOUS_CONNECTIONS="SIMULTANEOUS_CONNECTIONS",t.STUDY_TEMPLATES="STUDY_TEMPLATES",t.CAN_EDIT_PUBLIC_CHATS="CAN_EDIT_PUBLIC_CHATS",t.NO_SPONSORED_ADS="NO_SPONSORED_ADS",t.IDC_AVAILABLE_DELAY="IDC_AVAILABLE_DELAY",t.STATUS="STATUS",t.ALERTS_NO_EXPIRATION="ALERTS_NO_EXPIRATION",t.MULTIFLAGGED_SYMBOLS_LISTS="MULTIFLAGGED_SYMBOLS_LISTS",t.BAR_REPLAY_INTRADAY="BAR_REPLAY_INTRADAY",t.TV_VOLUMEBYPRICE="TV_VOLUMEBYPRICE",t.ALERTS_WEBHOOK="ALERTS_WEBHOOK",t.DEEP_FUNDAMENTALS_HISTORY="DEEP_FUNDAMENTALS_HISTORY",t.EXPORT_CHART_DATA="EXPORT_CHART_DATA",t.ALERTS_ON_SECONDS="ALERTS_ON_SECONDS",t.PERMANENT_STREAM_RECORDS="PERMANENT_STREAM_RECORDS",t.IDEA_SOCIAL_LINKS="IDEA_SOCIAL_LINKS",t.EXTENDED_SOCIAL_LINKS="EXTENDED_SOCIAL_LINKS",t.DEEP_HISTORY_BACKTEST="DEEP_HISTORY_BACKTEST",t.BACKTESTING_EXPORT="BACKTESTING_EXPORT",t.USE_BAR_MAGNIFIER="USE_BAR_MAGNIFIER",t.HISTORICAL_BARS="HISTORICAL_BARS",t.KAGI_RENKO="KAGI_RENKO",t.INTRADAY_SPREAD="INTRADAY_SPREAD",t.SECONDS_INTERVALS="SECONDS_INTERVALS",t.MULTICOLOR_FLAGGED_SYMBOLS="MULTICOLOR_FLAGGED_SYMBOLS",t.INTRADAY_EXCHANGE="INTRADAY_EXCHANGE",t.CUSTOM_CHATS="CUSTOM_CHATS",t.VOLUME_PROFILE="VOLUME_PROFILE",t.PRIMITIVE_ALERTS="PRIMITIVE_ALERTS",t.COMPLEX_ALERTS="COMPLEX_ALERTS",t.CHART_PATTERNS="CHART_PATTERNS"}(r||(r={}));const n=99999},175203:(t,e,i)=>{i.d(e,{telemetry:()=>T});var r=i(869403),n=i.n(r),o=i(890740),a=i(638456),_=i(314802);i(659863);const l=(0,i(272001).getLogger)("Common.Telemetry"),s={default:15e3,site:3e5
},S=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const T=new class{constructor(){this.reportSent=new(n()),this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(t){const e=this._parseCluster(t);null!==e&&(this._commonAdditionalData.cluster=e)}sendReport(t,e,i){var r;if(!this._isAbleToSendReport(e))return;const n=this._getSubserviceType(t),o=this._getHost(t,n);if(null!==o){if(i=void 0===i?{count:1}:i,this._addReportToStash(i,e,o),!this._timeoutIds[t]){const e=null!==(r=s[t])&&void 0!==r?r:s.default;this._timeoutIds[t]=setTimeout(this._sendTelemetryToService.bind(this,t,o),e)}}else l.logError(`Unable to get host for counter: ${e}, metric type: ${t}, serivce type: ${n}`)}sendChartReport(t,e,i=!0){this._sendServiceSpecifiedReport("charts",t,e,i)}sendLineToolsStorageReport(t,e,i=!0){this._sendServiceSpecifiedReport("line_tools_storage",t,e,i)}_sendServiceSpecifiedReport(t,e,i,r=!0){this._updateUserInfo(),i=void 0===i?{count:1}:i,r&&(i=this._appendCommonAdditionalInfo(i,["cluster","userId"])),this.sendReport(t,e,i)}_updateUserInfo(){const t="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(t)}_isAbleToSendReport(t){const e=window.TELEMETRY_HOSTS,i=S.includes(t),r=Boolean(window.TradingView.onChartPage||(0,a.onWidget)());return e&&(!i||r)}_sendTelemetryToService(t,e){if(this._reportStash.hasOwnProperty(e)){const t=this._cropParams(this._reportStash[e]),i=this._renameAllParams(t),r={event:"report_stash",params:this._cleanAllParams(i)};l.logDebug(`Report to host: ${e}; stash: ${JSON.stringify(this._reportStash[e])}`),this.reportSent.fire(this._reportStash[e]),delete this._reportStash[e],(0,o.fetch)(`${e}/report`,{method:"POST",body:JSON.stringify(r)})}this._timeoutIds[t]=null}_getHost(t,e){const i=window.TELEMETRY_HOSTS,r=i[t]&&i[t][e];return Boolean(r)?r:null}_getSubserviceType(t){if(!["charts","site"].includes(t))return"all";let e="free";const i=window.user.is_pro;return"charts"===t&&(0,_.isOnMobileAppPage)("old")?e=i?"ios_pro":"ios_free":"charts"===t&&(0,_.isOnMobileAppPage)("new")?e=i?"android_pro":"android_free":(0,a.onWidget)()?e="widget":i&&(e="pro"),e}_parseCluster(t){let e;try{e=JSON.parse(t).session_id}catch(t){return l.logError("Could not parse cluster id (session id)"),null}const i=/(.*@)(.*)/gi.exec(e);return null!==i&&i.length>=3?i[2]:null}_appendCommonAdditionalInfo(t,e){return e.forEach((e=>{e in this._commonAdditionalData&&(t.additional=t.additional||{},t.additional[e]=this._commonAdditionalData[e])})),t}_cropParams(t){var e;for(const i in t)t.hasOwnProperty(i)&&t[i].length>1e3&&(t.too_much_metrics_frame=null!==(e=t.too_much_metrics_frame)&&void 0!==e?e:[],t.too_much_metrics_frame.push({value:t[i].length,additional:{event:i}}),delete t[i]);return t}_renameAllParams(t){const e={};for(const i in t)t.hasOwnProperty(i)&&(e[i]=[],t[i].forEach((t=>{
e[i].push(this._renameEntryParams(t))})));return e}_renameEntryParams(t){const e={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(t).reduce(((i,r)=>(i[e[r]]=t[r],i)),{})}_cleanAllParams(t){const e={};for(const i in t)if(t.hasOwnProperty(i)){e[i]=[];const r={c:0};t[i].forEach((t=>{const n=this._cleanEntryParams(t),o=Object.keys(n).length;1===o&&void 0!==n.c?r.c+=n.c:o>0&&e[i].push(n)})),r.c>0&&e[i].push(r),0===e[i].length&&delete e[i]}return e}_cleanEntryParams(t){const e=Object.keys(t).reduce(((e,i)=>"c"!==i&&"t"!==i||t[i]?(e[i]=t[i],e):e),{});return"c"in e||"v"in e||"t"in e?e:{}}_addReportToStash(t,e,i){i in this._reportStash||(this._reportStash[i]={}),e in this._reportStash[i]||(this._reportStash[i][e]=[]),Object.keys(t).length>0&&this._reportStash[i][e].push(t)}}},779923:(t,e,i)=>{async function r(t,e){const r=await Promise.all([i.e(88230),i.e(86256),i.e(91901),i.e(81910),i.e(18619),i.e(71140),i.e(12275),i.e(54819),i.e(33335),i.e(83772),i.e(59302),i.e(15856),i.e(962),i.e(27582),i.e(38890)]).then(i.bind(i,918728));return r.showSimpleDialog(t,r.renameModule,e)}async function n(t,e){const r=await Promise.all([i.e(88230),i.e(86256),i.e(91901),i.e(81910),i.e(18619),i.e(71140),i.e(12275),i.e(54819),i.e(33335),i.e(83772),i.e(59302),i.e(15856),i.e(962),i.e(27582),i.e(38890)]).then(i.bind(i,918728));return r.showSimpleDialog(t,r.confirmModule,e)}async function o(t,e){const r=await Promise.all([i.e(88230),i.e(86256),i.e(91901),i.e(81910),i.e(18619),i.e(71140),i.e(12275),i.e(54819),i.e(33335),i.e(83772),i.e(59302),i.e(15856),i.e(962),i.e(27582),i.e(38890)]).then(i.bind(i,918728));return r.showSimpleDialog(t,r.warningModule,e)}i.r(e),i.d(e,{showRename:()=>r,showConfirm:()=>n,showWarning:()=>o})},368725:(t,e,i)=>{i.d(e,{PriceFormatter:()=>u,formatterOptions:()=>s,numberToStringWithLeadingZero:()=>c});var r=i(777754),n=i(960521),o=i(758337);var a=i(768038);const _=(0,i(272001).getLogger)("Chart.PriceFormatter"),l=new RegExp(/^(-?)[0-9]+$/),s={decimalSign:".",decimalSignFractional:"'"},S=new Map;const T=new Map;function E(t,e,i,r){let n=0;if(t>0&&e>0){let e=t;for(i&&r&&(e/=r);e>1;)e/=10,n++}return n}function c(t,e){if(!(0,o.isNumber)(t))return"n/a";if(!(0,o.isInteger)(e))throw new TypeError("invalid length");if(e<0||e>24)throw new TypeError("invalid length");if(0===e)return t.toString();return("0000000000000000"+t.toString()).slice(-e)}class u{constructor(t,e,a,l,s){if(this.type="price",this._formatterErrors={custom:r.t(null,void 0,i(332061)),fraction:r.t(null,void 0,i(142015)),secondFraction:r.t(null,void 0,i(643247))},e||(e=1),(0,o.isNumber)(t)&&(0,o.isInteger)(t)||(t=100),t<0)throw new TypeError("invalid base");this._priceScale=t,this._minMove=e,this._minMove2=l,this._variableMinTickData=a||void 0===s?void 0:function(t,e){var i,r,a,_,l;const s=e.split(" ").map(Number);if((0,o.isEven)(s.length)||s.some(Number.isNaN))return[{minTick:t,price:1/0,maxIndex:1/0}];const S=[];for(let t=0;t<s.length;t+=2){
const e=null!==(i=s[t+1])&&void 0!==i?i:1/0,o=null!==(a=null===(r=S[S.length-1])||void 0===r?void 0:r.price)&&void 0!==a?a:0,T=null!==(l=null===(_=S[S.length-1])||void 0===_?void 0:_.maxIndex)&&void 0!==l?l:0,E=e===1/0?1/0:new n.Big(e).minus(o).div(s[t]).plus(T).toNumber();S.push({minTick:s[t],price:e,maxIndex:E})}return S}(NaN,s),a&&void 0!==l&&l>0&&2!==l&&4!==l&&8!==l?_.logDebug("invalid minmove2"):(this._fractional=a,this._fractionalLength=E(this._priceScale,this._minMove,this._fractional,this._minMove2))}isFractional(){return!!this._fractional}state(){return{fractional:this._fractional,fractionalLength:this._fractionalLength,minMove:this._minMove,minMove2:this._minMove2,priceScale:this._priceScale}}format(t,e,i,r=!0,o=!0,_=!1){let l="";t<0?(l=!1===r?"":"−",t=-t):t&&!0===e&&(l="+");let s,S=this._priceScale,T=this._minMove,c=this._fractionalLength;if(void 0!==this._variableMinTickData){const e=function(t){const{minTick:e,price:i,variableMinTickData:r,shouldCheckForEquality:n}=t;return void 0===r?e:function(t,e,i=!1){for(let r=0;r<e.length;r++){if(t<e[r].price)return e[r].minTick;if(i&&t===e[r].price)return e[r].minTick}return e[e.length-1].minTick}(i,r,n)}({price:t,minTick:NaN,variableMinTickData:this._variableMinTickData,shouldCheckForEquality:!0});S=Math.pow(10,function(t){return(new n.Big(t).toFixed().split(".")[1]||"").length}(e)),T=(0,n.Big)(e).mul(S).toNumber(),c=E(S,T)}return s=this._fractional?l+this._formatAsFractional(t,i):l+this._formatAsDecimal({price:t,priceScale:S,minMove:T,fractionalLength:c,tailSize:i,cutFractionalByPrecision:_}),o?(0,a.forceLTRStr)(s):s}parse(t){return"+"===(t=(t=(0,a.stripLTRMarks)(t)).replace("−","-"))[0]&&(t=t.substring(1)),this._fractional?this._minMove2?this._parseAsDoubleFractional(t):this._parseAsSingleFractional(t):this._parseAsDecimal(t)}hasForexAdditionalPrecision(){return!this._fractional&&10===this._minMove2}static serialize(t){return t.state()}static deserialize(t){return new u(t.priceScale,t.minMove,t.fractional,t.minMove2)}_formatAsExponential(t){const e=Math.floor(.75*Math.log10(this._priceScale)),i=t*Math.pow(10,e),r=`e-${e}`,n=Math.log10(this._priceScale)-e;return`${i.toFixed(n).replace(".",s.decimalSign)}${r}`}_formatAsDecimal(t){const{price:e,priceScale:i,minMove:r,fractionalLength:o=0,tailSize:a=0,cutFractionalByPrecision:_}=t;if(i>1e10)return this._formatAsExponential(e);let l;l=this._fractional?Math.pow(10,o):Math.pow(10,a)*i/(_?1:r);const S=1/l;let T;if(l>1)T=Math.floor(e);else{const t=Math.floor(Math.round(e/S)*S);T=0===Math.round((e-t)/S)?t:t+S}let E="";if(l>1){let t=_?new n.Big(e).mul(l).round(void 0,0).minus(new n.Big(T).mul(l)).toNumber():parseFloat((Math.round(e*l)-T*l).toFixed(o));t>=l&&(t-=l,T+=1);const i=_?new n.Big(t).round(o,0).toNumber():parseFloat(t.toFixed(o))*r;E=s.decimalSign+c(i,o+a),E=this._removeEndingZeros(E,a)}return T.toString()+E}_getFractPart(t,e,i){const r=[0,5],n=[0,2,5,7],o=[0,1,2,3,5,6,7,8];return 2===i?void 0===r[t]?-1:r[t]:4===i?void 0===n[t]?-1:n[t]:8===i&&2===e?void 0===o[t]?-1:o[t]:t}_formatAsFractional(t,e){
const i=this._priceScale/this._minMove;let r=Math.floor(t),n=e?Math.floor(t*i)-r*i:Math.round(t*i)-r*i;n===i&&(n=0,r+=1);let o="";if(e){let a=(t-r-n/i)*i;a=Math.round(a*Math.pow(10,e)),o=c(a,e),o=this._removeEndingZeros(o,e)}if(!this._fractionalLength)throw new Error("_fractionalLength is not calculated");let a="";if(this._minMove2){const t=n%this._minMove2;n=(n-t)/this._minMove2;const e=c(n,this._fractionalLength),i=this._getFractPart(t,2,this._minMove2);a=e+s.decimalSignFractional+i}else n=this._getFractPart(n,1,this._priceScale),a=c(n*this._minMove,this._fractionalLength);return r.toString()+s.decimalSignFractional+a+o}_removeEndingZeros(t,e){for(let i=0;i<e&&"0"===t[t.length-1];i++)t=t.substring(0,t.length-1);return t}_parseAsDecimal(t){if(t.includes("e")){if(function(t){let e=S.get(t);return e||(e=new RegExp("^(-?)[0-9]+\\"+t+"[0-9]*e(-?)[0-9]+$"),S.set(t,e)),e}(s.decimalSign).exec(t)){const e=parseFloat(t.replace(s.decimalSign,"."));return{value:e,res:!0,suggest:this.format(e)}}return{error:this._formatterErrors.custom,res:!1}}let e=l.exec(t);if(e){const e=parseFloat(t);return{value:e,res:!0,suggest:this.format(e)}}if(e=function(t){let e=T.get(t);return e||(e=new RegExp("^(-?)[0-9]+\\"+s.decimalSign+"[0-9]*$"),T.set(t,e)),e}(s.decimalSign).exec(t),e){const e=parseFloat(t.replace(s.decimalSign,"."));return{value:e,res:!0,suggest:this.format(e)}}return{error:this._formatterErrors.custom,res:!1}}_patchFractPart(t,e,i){const r={0:0,5:1},n={0:0,2:1,5:2,7:3},o={0:0,1:1,2:2,3:3,5:4,6:5,7:6,8:7};return 2===i?void 0===r[t]?-1:r[t]:4===i?void 0===n[t]?-1:n[t]:8===i&&2===e?void 0===o[t]?-1:o[t]:t}_parseAsSingleFractional(t){let e=l.exec(t);if(e){const e=parseFloat(t);return{value:e,res:!0,suggest:this.format(e)}}if(e=new RegExp("^(-?)([0-9]+)\\"+s.decimalSignFractional+"([0-9]+)$").exec(t),e){const t=!!e[1],i=parseInt(e[2]),r=this._priceScale,n=this._patchFractPart(parseInt(e[3]),1,r);if(n>=r||n<0)return{error:this._formatterErrors.fraction,res:!1};let o=i+n/r;return t&&(o=-o),{value:o,res:!0,suggest:this.format(o)}}return{error:this._formatterErrors.custom,res:!1}}_parseAsDoubleFractional(t){let e=l.exec(t);if(e){const e=parseFloat(t);return{value:e,res:!0,suggest:this.format(e)}}if(e=new RegExp("^(-?)([0-9]+)\\"+s.decimalSignFractional+"([0-9]+)\\"+s.decimalSignFractional+"([0-9]+)$").exec(t),e){const t=!!e[1],i=parseInt(e[2]),r=void 0!==this._minMove2?this._minMove2:NaN,n=this._priceScale/r,o=this._minMove2,a=this._patchFractPart(parseInt(e[3]),1,n),_=this._patchFractPart(parseInt(e[4]),2,o);if(a>=n||a<0)return{error:this._formatterErrors.fraction,res:!1};if(void 0!==o&&_>=o||_<0)return{error:this._formatterErrors.secondFraction,res:!1};let l=void 0!==o?i+a/n+_/(n*o):NaN;return t&&(l=-l),{value:l,res:!0,suggest:this.format(l)}}return{error:this._formatterErrors.custom,res:!1}}}},960489:(t,e,i)=>{var r;i.d(e,{BillingCycle:()=>r}),function(t){t.Monthly="m",t.ThreeMonths="3m",t.OneYear="y",t.TwoYears="2y"}(r||(r={}))},960254:(t,e,i)=>{var r,n,o;i.d(e,{ProPlans:()=>r,BrokerPlansIds:()=>o}),function(t){t.Free="free",
t.Pro="pro",t.ProTrial="pro_trial",t.ProRealtime="pro_realtime",t.ProRealtimeTrial="pro_realtime_trial",t.ProPremium="pro_premium",t.ProPremiumTrial="pro_premium_trial"}(r||(r={})),function(t){t.Platinum="platinum",t.Gold="gold",t.Silver="silver",t.Free="free"}(n||(n={})),function(t){t[t.Platinum=3]="Platinum",t[t.Gold=2]="Gold",t[t.Silver=1]="Silver",t[t.Free=0]="Free"}(o||(o={}))},919490:(t,e,i)=>{i.r(e),i.d(e,{TRIAL_SUFFIX:()=>a,EA_SUFFIX:()=>_,CUSTOM_SUFFIX:()=>l,billingCycleToTimeUnit:()=>s,getReadableCycle:()=>S,getReadableNumericCycle:()=>T,billingPeriodText:()=>E,isEarlyAccess:()=>c,isTrialProduct:()=>u,getProductForTrial:()=>A,getDiscountFromEarlyAccess:()=>R,toEarlyAccess:()=>m,humanizeProPlan:()=>I,humanizeCardPlan:()=>d,getAmountOfDaysForBillingCycle:()=>h,countDiscountByBillingCycle:()=>O,billingCycleToMonth:()=>C,round2:()=>N,round0:()=>L,floor0:()=>P,round2or0:()=>p,round1or0:()=>f,roundMinimal:()=>D,getPlanName:()=>g});i(984919);var r=i(777754),n=i(960254),o=i(960489);const a="_trial",_="_discount",l="_custom";function s(t){return{y:r.t(null,{plural:"years",count:1},i(870659)),m:r.t(null,{plural:"months",count:1},i(99062)),"3m":r.t(null,void 0,i(252656)),"2y":r.t(null,void 0,i(943350))}[t]}function S(t){return{m:r.t(null,void 0,i(438144)),y:r.t(null,void 0,i(739048)),"3m":r.t(null,void 0,i(490227)),"2y":r.t(null,void 0,i(565851))}[t]||""}function T(t){return{[o.BillingCycle.Monthly]:r.t(null,void 0,i(438144)),[o.BillingCycle.OneYear]:r.t(null,void 0,i(187534)),[o.BillingCycle.ThreeMonths]:r.t(null,void 0,i(490227)),[o.BillingCycle.TwoYears]:r.t(null,void 0,i(122354))}[t]||""}function E(t){var e;return null!==(e={y:r.t(null,void 0,i(304183)),m:r.t(null,void 0,i(432950)),"2y":r.t(null,void 0,i(89571))}[t])&&void 0!==e?e:""}function c(t){return/\d{0,2}_discount$/.test(t)}function u(t){return new RegExp(a+"$").test(t)}function A(t){return t.split(a)[0]}function R(t){const e=t.match(new RegExp("^(d{0,2})"+_+"$"));return e?+e[1]||50:0}function m(t,e){return`${t}_${e}${_}`}function I(t,e){let o=t;switch(t){case n.ProPlans.Free:o="Basic";break;case n.ProPlans.Pro:o="Pro";break;case n.ProPlans.ProRealtime:o="Pro+";break;case n.ProPlans.ProPremium:o="Premium"}return e&&(o+=" "+r.t(null,void 0,i(679372))),o}function d(t){let e=t;switch(t){case n.ProPlans.Pro:e="Pro";break;case n.ProPlans.ProRealtime:e="Pro+";break;case n.ProPlans.ProPremium:e="Premium";break;case n.ProPlans.Free:e="Basic"}return e}function h(t){switch(t){case o.BillingCycle.TwoYears:return 730;case o.BillingCycle.OneYear:return 365;case o.BillingCycle.ThreeMonths:return 90;case o.BillingCycle.Monthly:return 30;default:return 1}}function O(t,e,i){return Math.round((e-t)*C(i))}function C(t){switch(t){case o.BillingCycle.TwoYears:return 24;case o.BillingCycle.OneYear:return 12;default:return 1}}function N(t){return(Math.round(100*t)/100).toFixed(2)}function L(t){const e=Math.round(100*t)/100;return Math.round(e).toFixed(0)}function P(t){return Math.floor(t).toString()}function p(t){const e=Math.round(100*t)/100,i=Math.round(e)
;return Math.abs(e-i)>0?e.toFixed(2):i.toFixed(0)}function f(t){return Number.isInteger(t)?t.toFixed(0):(Math.round(10*t)/10).toFixed(1)}function D(t){const e=Math.round(100*t)/100,i=Math.round(10*t)/10,r=Math.round(e);return Math.abs(e-r)>0?Math.abs(e-i)>0?e.toFixed(2):i.toFixed(1):r.toFixed(0)}function g(t){const e=r.t(null,void 0,i(133011));if(u(t)){const i=I(A(t));return e.format({proPlanName:i})}return I(t)}},588565:(t,e,i)=>{function r(t){return t.reduce((function(t,e,i){return~t.indexOf(e)||t.push(e),t}),[])}i.r(e),i.d(e,{uniq:()=>r})}}]);